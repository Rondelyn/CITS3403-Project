<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Rate My Fit - Feed</title>
    <meta name="description" content="temporary desc.">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!--bootstrap icon link-->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">       
    <!--Bootstrap 5 link--> 
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <!--Link to custom css-->
    <link rel="stylesheet" href="/static/main.css">
    <!--Link to custom javascript-->
    <script src="/static/main.js"></script>

    <script src="https://code.jquery.com/jquery-3.7.1.js" integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4=" crossorigin="anonymous"></script>

  </head>
  <body class="d-flex flex-column min-vh-100">
    <!--This is the navigation bar-->
    <nav class="navbar navbar-expand-sm navbar-dark fixed-top rounded-bottom bg-colour">
      <div class="container-fluid">
        <a class="navbar-brand"  id="logo">Rate My Fit</a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#collapsibleNavbar">
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse justify-content-end" id="collapsibleNavbar">
          <ul class="navbar-nav">
            <li class="nav-item pill">
              <a class="nav-link" href="landingPg"><i class="bi bi-house-fill"></i> Home</a>
            </li>
            <li class="nav-item pill">
              <a class="nav-link" href="findRequest">Feed</a>
            </li>
            <li class="nav-item pill">
              <a class="nav-link disabled" href="createRequest">Post</a>
            </li>    
            <li class="nav-item pill">
              <a class="nav-link" href="login">Login</a>
            </li> 
          </ul>
        </div>
      </div>
    </nav>
    
    <main class="flex-grow-1">
      
      <br>

      <!--Content container that defines the white box area on site. Fills whole space on small devices-->
     <div class="container-sm mt-5 mb-3 pt-1 pb-3 bodyFormat">
        

      <h1>Create New Post</h1>

      {% with messages = get_flashed_messages() %}
      {% if messages %}
      <ul>
        {% for message in messages %}
          <li> {{ message }} </li>
        {% endfor %}
      </ul>
      {% endif %}
    {% endwith %}

          <div id = "Request form">
              <form id = "Request" action ="/submit" method="post" enctype="multipart/form-data">
                {{ form.hidden_tag() }}

                <div class = "row gx-5">
                  <div class = "col-sm-8">
                    <!--title of post-->
                    
                    {{ form.title.label}}
                    {{ form.title (class="form-control")}}

                    <br>


                    <!--uploading photos-->
                    {{ form.image.label (class="form-label")}}
                    {{ form.image (class="form-control")}}

                    <br>
                    <div class = "upload-img"> </div>
                    
                  </div>
                  
                  <div class = "col-sm-4">  
                    <br>   
                    <!--list of checkboxes-->
                    {{ form.categories.label(class_="form-label") }}
                    {{ form.categories(class_="list-group list-unstyled") }}
                    </div>
                </div>
                
                <!--post button-->
                <br>
                {{ form.submit(class="btn btn-primary") }}

          </form>
          


        </div>
          
          <script>
            //preview the images uploaded
            $("#imgUpload").change(function () {
            console.log("file changed")
            imagePreview(this);
            })

            //remove images
            $(window).click(function(event){
            if($(event.target).hasClass('btn-close')){
              $(event.target).parent().remove()
            }
            })  
          </script>

        </div>

        
    </main>
    <!--temp footer-->
    <footer class="footer mt-auto py-3 d-flex justify-content-end">
      <small>&copy; 2024</small> 
    </footer>
    <!--This is the js used by bootstrap 5. Please keep this at the bottom before /body-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

  </body>
</html>